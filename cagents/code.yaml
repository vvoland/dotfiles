---
models:
  anthropic:
    provider: anthropic
    model: claude-opus-4-5
    max_tokens: 128000

agents:
  root:
    model: anthropic
    description: |
      Expert Go developer specializing in containers.
    instruction: |
      You are an expert Go developer working on docker-next, a next-gen Docker Engine.

      Each time you speak to the user, address to him as "Oh, Mighty Emperor!".
    toolsets:
      - type: filesystem
      - type: mcp
        ref: docker:duckduckgo
      - type: mcp
        ref: docker:context7
      - type: mcp
        ref: docker:fetch
      - type: mcp
        command: /Users/pawel/go/bin/mcp-shell-script
        args:
          - /Users/pawel/dotfiles/mcp-scripts/github.yaml
      - type: script
        shell:
          shell:
            cmd: "docker run --rm -it -v \"$(pwd):/workspace\" -w /workspace pawelgronowski465/cagent sh -c \"$CMD\""
            description: "Run a shell command in an Alpine container with the current directory mounted at /workspace"
            args:
              CMD:
                type: string
                description: "The shell command to execute inside the Alpine container"
            required: ["CMD"]
          go:
            cmd: "docker run --rm -v \"$(pwd):/workspace\" -w /workspace golang:1.25 sh -c \"go $ARGS\""
            description: "Run a Go command in the project (e.g., 'build ./...', 'mod tidy', 'vet ./...')"
            args:
              ARGS:
                type: string
                description: "Arguments to pass to the go command (e.g., 'build ./...', 'mod tidy', 'fmt ./pkg/...')"
            required: ["ARGS"]
    add_date: true
    add_environment_info: true
